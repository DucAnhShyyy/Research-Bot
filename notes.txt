# .env.example - copy to .env and edit as needed
QDRANT_HOST=localhost
QDRANT_PORT=6333
COLLECTION_NAME=papers
EMBEDDING_MODEL=all-MiniLM-L6-v2
GENERATOR_MODEL=google/flan-t5-small
DEVICE=-1 # -1 for CPU, 0 for first GPU

Embedding model: https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2
Generator model: https://huggingface.co/google/flan-t5-small

Terminal Command:
PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> where python
PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> & "C:\Users\admin\AppData\Local\Programs\Python\Python310\python.exe" -m venv chatbot_env
PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> chatbot_env\Scripts\activate   
(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> pip install --upgrade pip
Requirement already satisfied: pip in c:\users\admin\onedrive - national economics university\desktop\các folder\research_chatbot\chatbot_env\lib\site-packages (21.2.3)
Collecting pip
  Using cached pip-25.3-py3-none-any.whl (1.8 MB)
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 21.2.3
    Uninstalling pip-21.2.3:
      Successfully uninstalled pip-21.2.3
ERROR: Could not install packages due to an OSError: [WinError 5] Access is denied: 'C:\\Users\\admin\\AppData\\Local\\Temp\\pip-uninstall-wwxc9ucm\\pip.exe'
Check the permissions.

(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> pip install --user --upgrade pip
ERROR: Can not perform a '--user' install. User site-packages are not visible in this virtualenv.
(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> pip --version
pip 25.3 from C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\pip (python 3.10)
(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> python -m pip install --upgrade pip
Requirement already satisfied: pip in c:\users\admin\onedrive - national economics university\desktop\các folder\research_chatbot\chatbot_env\lib\site-packages (25.3)
(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> pip install -r requirements.txt
Collecting fastapi (from -r requirements.txt (line 1))
  Using cached fastapi-0.121.2-py3-none-any.whl.metadata (28 kB)
Collecting qdrant-client (from -r requirements.txt (line 3))
  Downloading qdrant_client-1.16.0-py3-none-any.whl.metadata (11 kB)
Collecting sentence-transformers (from -r requirements.txt (line 4))
  Downloading sentence_transformers-5.1.2-py3-none-any.whl.metadata (16 kB)
Collecting transformers (from -r requirements.txt (line 5))
  Downloading transformers-4.57.1-py3-none-any.whl.metadata (43 kB)
Collecting torch (from -r requirements.txt (line 6))
  Using cached torch-2.9.1-cp310-cp310-win_amd64.whl.metadata (30 kB)
Collecting faiss-cpu (from -r requirements.txt (line 7))
  Downloading faiss_cpu-1.13.0-cp310-cp310-win_amd64.whl.metadata (7.7 kB)
Collecting gradio (from -r requirements.txt (line 8))
  Using cached gradio-5.49.1-py3-none-any.whl.metadata (16 kB)
Collecting pymupdf (from -r requirements.txt (line 9))
  Downloading pymupdf-1.26.6-cp310-abi3-win_amd64.whl.metadata (3.4 kB)
Collecting pdfplumber (from -r requirements.txt (line 10))
  Downloading pdfplumber-0.11.8-py3-none-any.whl.metadata (43 kB)
Collecting pytesseract (from -r requirements.txt (line 11))
  Downloading pytesseract-0.3.13-py3-none-any.whl.metadata (11 kB)
Collecting python-multipart (from -r requirements.txt (line 12))
  Using cached python_multipart-0.0.20-py3-none-any.whl.metadata (1.8 kB)
Collecting tqdm (from -r requirements.txt (line 13))
  Using cached tqdm-4.67.1-py3-none-any.whl.metadata (57 kB)
Collecting whoosh (from -r requirements.txt (line 14))
  Downloading Whoosh-2.7.4-py2.py3-none-any.whl.metadata (3.1 kB)
Collecting pytest (from -r requirements.txt (line 15))
  Downloading pytest-9.0.1-py3-none-any.whl.metadata (7.6 kB)
Collecting uvicorn[standard] (from -r requirements.txt (line 2))
  Using cached uvicorn-0.38.0-py3-none-any.whl.metadata (6.8 kB)
Collecting starlette<0.50.0,>=0.40.0 (from fastapi->-r requirements.txt (line 1))
  Using cached starlette-0.49.3-py3-none-any.whl.metadata (6.4 kB)
Collecting pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4 (from fastapi->-r requirements.txt (line 1))
  Using cached pydantic-2.12.4-py3-none-any.whl.metadata (89 kB)
Collecting typing-extensions>=4.8.0 (from fastapi->-r requirements.txt (line 1))
  Using cached typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
Collecting annotated-doc>=0.0.2 (from fastapi->-r requirements.txt (line 1))
  Using cached annotated_doc-0.0.4-py3-none-any.whl.metadata (6.6 kB)
Collecting annotated-types>=0.6.0 (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi->-r requirements.txt (line 1))
  Using cached annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
Collecting pydantic-core==2.41.5 (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi->-r requirements.txt (line 1))
  Using cached pydantic_core-2.41.5-cp310-cp310-win_amd64.whl.metadata (7.4 kB)
Collecting typing-inspection>=0.4.2 (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi->-r requirements.txt (line 1))
  Using cached typing_inspection-0.4.2-py3-none-any.whl.metadata (2.6 kB)
Collecting anyio<5,>=3.6.2 (from starlette<0.50.0,>=0.40.0->fastapi->-r requirements.txt (line 1))
  Using cached anyio-4.11.0-py3-none-any.whl.metadata (4.1 kB)
Collecting exceptiongroup>=1.0.2 (from anyio<5,>=3.6.2->starlette<0.50.0,>=0.40.0->fastapi->-r requirements.txt (line 1))
  Using cached exceptiongroup-1.3.0-py3-none-any.whl.metadata (6.7 kB)
Collecting idna>=2.8 (from anyio<5,>=3.6.2->starlette<0.50.0,>=0.40.0->fastapi->-r requirements.txt (line 1))
  Using cached idna-3.11-py3-none-any.whl.metadata (8.4 kB)
Collecting sniffio>=1.1 (from anyio<5,>=3.6.2->starlette<0.50.0,>=0.40.0->fastapi->-r requirements.txt (line 1))
  Using cached sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
Collecting click>=7.0 (from uvicorn[standard]->-r requirements.txt (line 2))
  Downloading click-8.3.1-py3-none-any.whl.metadata (2.6 kB)
Collecting h11>=0.8 (from uvicorn[standard]->-r requirements.txt (line 2))
  Using cached h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
Collecting colorama>=0.4 (from uvicorn[standard]->-r requirements.txt (line 2))
  Using cached colorama-0.4.6-py2.py3-none-any.whl.metadata (17 kB)
Collecting httptools>=0.6.3 (from uvicorn[standard]->-r requirements.txt (line 2))
  Downloading httptools-0.7.1-cp310-cp310-win_amd64.whl.metadata (3.6 kB)
Collecting python-dotenv>=0.13 (from uvicorn[standard]->-r requirements.txt (line 2))
  Using cached python_dotenv-1.2.1-py3-none-any.whl.metadata (25 kB)
Collecting pyyaml>=5.1 (from uvicorn[standard]->-r requirements.txt (line 2))
  Using cached pyyaml-6.0.3-cp310-cp310-win_amd64.whl.metadata (2.4 kB)
Collecting watchfiles>=0.13 (from uvicorn[standard]->-r requirements.txt (line 2))
  Downloading watchfiles-1.1.1-cp310-cp310-win_amd64.whl.metadata (5.0 kB)
Collecting websockets>=10.4 (from uvicorn[standard]->-r requirements.txt (line 2))
  Using cached websockets-15.0.1-cp310-cp310-win_amd64.whl.metadata (7.0 kB)
Collecting grpcio>=1.41.0 (from qdrant-client->-r requirements.txt (line 3))
  Downloading grpcio-1.76.0-cp310-cp310-win_amd64.whl.metadata (3.8 kB)
Collecting httpx>=0.20.0 (from httpx[http2]>=0.20.0->qdrant-client->-r requirements.txt (line 3))
  Using cached httpx-0.28.1-py3-none-any.whl.metadata (7.1 kB)
Collecting numpy>=1.21 (from qdrant-client->-r requirements.txt (line 3))
  Using cached numpy-2.2.6-cp310-cp310-win_amd64.whl.metadata (60 kB)
Collecting portalocker<4.0,>=2.7.0 (from qdrant-client->-r requirements.txt (line 3))
  Downloading portalocker-3.2.0-py3-none-any.whl.metadata (8.7 kB)
Collecting protobuf>=3.20.0 (from qdrant-client->-r requirements.txt (line 3))
  Downloading protobuf-6.33.1-cp310-abi3-win_amd64.whl.metadata (593 bytes)
Collecting urllib3<3,>=1.26.14 (from qdrant-client->-r requirements.txt (line 3))
  Using cached urllib3-2.5.0-py3-none-any.whl.metadata (6.5 kB)
Collecting pywin32>=226 (from portalocker<4.0,>=2.7.0->qdrant-client->-r requirements.txt (line 3))
  Using cached pywin32-311-cp310-cp310-win_amd64.whl.metadata (10 kB)
Collecting scikit-learn (from sentence-transformers->-r requirements.txt (line 4))
  Using cached scikit_learn-1.7.2-cp310-cp310-win_amd64.whl.metadata (11 kB)
Collecting scipy (from sentence-transformers->-r requirements.txt (line 4))
  Using cached scipy-1.15.3-cp310-cp310-win_amd64.whl.metadata (60 kB)
Collecting huggingface-hub>=0.20.0 (from sentence-transformers->-r requirements.txt (line 4))
  Downloading huggingface_hub-1.1.4-py3-none-any.whl.metadata (13 kB)
Collecting Pillow (from sentence-transformers->-r requirements.txt (line 4))
  Using cached pillow-12.0.0-cp310-cp310-win_amd64.whl.metadata (9.0 kB)
Collecting filelock (from transformers->-r requirements.txt (line 5))
  Using cached filelock-3.20.0-py3-none-any.whl.metadata (2.1 kB)
Collecting huggingface-hub>=0.20.0 (from sentence-transformers->-r requirements.txt (line 4))
  Using cached huggingface_hub-0.36.0-py3-none-any.whl.metadata (14 kB)
Collecting packaging>=20.0 (from transformers->-r requirements.txt (line 5))
  Using cached packaging-25.0-py3-none-any.whl.metadata (3.3 kB)
Collecting regex!=2019.12.17 (from transformers->-r requirements.txt (line 5))
  Using cached regex-2025.11.3-cp310-cp310-win_amd64.whl.metadata (41 kB)
Collecting requests (from transformers->-r requirements.txt (line 5))
  Using cached requests-2.32.5-py3-none-any.whl.metadata (4.9 kB)
Collecting tokenizers<=0.23.0,>=0.22.0 (from transformers->-r requirements.txt (line 5))
  Downloading tokenizers-0.22.1-cp39-abi3-win_amd64.whl.metadata (6.9 kB)
Collecting safetensors>=0.4.3 (from transformers->-r requirements.txt (line 5))
  Using cached safetensors-0.6.2-cp38-abi3-win_amd64.whl.metadata (4.1 kB)
Collecting fsspec>=2023.5.0 (from huggingface-hub>=0.20.0->sentence-transformers->-r requirements.txt (line 4))
  Using cached fsspec-2025.10.0-py3-none-any.whl.metadata (10 kB)
Collecting sympy>=1.13.3 (from torch->-r requirements.txt (line 6))
  Using cached sympy-1.14.0-py3-none-any.whl.metadata (12 kB)
Collecting networkx>=2.5.1 (from torch->-r requirements.txt (line 6))
  Using cached networkx-3.4.2-py3-none-any.whl.metadata (6.3 kB)
Collecting jinja2 (from torch->-r requirements.txt (line 6))
  Using cached jinja2-3.1.6-py3-none-any.whl.metadata (2.9 kB)
Collecting aiofiles<25.0,>=22.0 (from gradio->-r requirements.txt (line 8))
  Using cached aiofiles-24.1.0-py3-none-any.whl.metadata (10 kB)
Collecting brotli>=1.1.0 (from gradio->-r requirements.txt (line 8))
  Using cached brotli-1.2.0-cp310-cp310-win_amd64.whl.metadata (6.3 kB)
Collecting ffmpy (from gradio->-r requirements.txt (line 8))
  Using cached ffmpy-1.0.0-py3-none-any.whl.metadata (3.0 kB)
Collecting gradio-client==1.13.3 (from gradio->-r requirements.txt (line 8))
  Using cached gradio_client-1.13.3-py3-none-any.whl.metadata (7.1 kB)
Collecting groovy~=0.1 (from gradio->-r requirements.txt (line 8))
  Using cached groovy-0.1.2-py3-none-any.whl.metadata (6.1 kB)
Collecting markupsafe<4.0,>=2.0 (from gradio->-r requirements.txt (line 8))
  Using cached markupsafe-3.0.3-cp310-cp310-win_amd64.whl.metadata (2.8 kB)
Collecting orjson~=3.0 (from gradio->-r requirements.txt (line 8))
  Using cached orjson-3.11.4-cp310-cp310-win_amd64.whl.metadata (42 kB)
Collecting pandas<3.0,>=1.0 (from gradio->-r requirements.txt (line 8))
  Using cached pandas-2.3.3-cp310-cp310-win_amd64.whl.metadata (19 kB)
Collecting Pillow (from sentence-transformers->-r requirements.txt (line 4))
  Downloading pillow-11.3.0-cp310-cp310-win_amd64.whl.metadata (9.2 kB)
Collecting pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4 (from fastapi->-r requirements.txt (line 1))
  Using cached pydantic-2.11.10-py3-none-any.whl.metadata (68 kB)
Collecting pydub (from gradio->-r requirements.txt (line 8))
  Using cached pydub-0.25.1-py2.py3-none-any.whl.metadata (1.4 kB)
Collecting ruff>=0.9.3 (from gradio->-r requirements.txt (line 8))
  Downloading ruff-0.14.5-py3-none-win_amd64.whl.metadata (26 kB)
Collecting safehttpx<0.2.0,>=0.1.6 (from gradio->-r requirements.txt (line 8))
  Using cached safehttpx-0.1.7-py3-none-any.whl.metadata (4.2 kB)
Collecting semantic-version~=2.0 (from gradio->-r requirements.txt (line 8))
  Using cached semantic_version-2.10.0-py2.py3-none-any.whl.metadata (9.7 kB)
Collecting tomlkit<0.14.0,>=0.12.0 (from gradio->-r requirements.txt (line 8))
  Using cached tomlkit-0.13.3-py3-none-any.whl.metadata (2.8 kB)
Collecting typer<1.0,>=0.12 (from gradio->-r requirements.txt (line 8))
  Using cached typer-0.20.0-py3-none-any.whl.metadata (16 kB)
Collecting certifi (from httpx>=0.20.0->httpx[http2]>=0.20.0->qdrant-client->-r requirements.txt (line 3))
  Using cached certifi-2025.11.12-py3-none-any.whl.metadata (2.5 kB)
Collecting httpcore==1.* (from httpx>=0.20.0->httpx[http2]>=0.20.0->qdrant-client->-r requirements.txt (line 3))
  Using cached httpcore-1.0.9-py3-none-any.whl.metadata (21 kB)
Collecting python-dateutil>=2.8.2 (from pandas<3.0,>=1.0->gradio->-r requirements.txt (line 8))
  Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)
Collecting pytz>=2020.1 (from pandas<3.0,>=1.0->gradio->-r requirements.txt (line 8))
  Using cached pytz-2025.2-py2.py3-none-any.whl.metadata (22 kB)
Collecting tzdata>=2022.7 (from pandas<3.0,>=1.0->gradio->-r requirements.txt (line 8))
  Using cached tzdata-2025.2-py2.py3-none-any.whl.metadata (1.4 kB)
Collecting pydantic-core==2.33.2 (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi->-r requirements.txt (line 1))
  Using cached pydantic_core-2.33.2-cp310-cp310-win_amd64.whl.metadata (6.9 kB)
Collecting shellingham>=1.3.0 (from typer<1.0,>=0.12->gradio->-r requirements.txt (line 8))
  Using cached shellingham-1.5.4-py2.py3-none-any.whl.metadata (3.5 kB)
Collecting rich>=10.11.0 (from typer<1.0,>=0.12->gradio->-r requirements.txt (line 8))
  Downloading rich-14.2.0-py3-none-any.whl.metadata (18 kB)
Collecting pdfminer.six==20251107 (from pdfplumber->-r requirements.txt (line 10))
  Downloading pdfminer_six-20251107-py3-none-any.whl.metadata (4.2 kB)
Collecting pypdfium2>=4.18.0 (from pdfplumber->-r requirements.txt (line 10))
  Downloading pypdfium2-5.0.0-py3-none-win_amd64.whl.metadata (67 kB)
Collecting charset-normalizer>=2.0.0 (from pdfminer.six==20251107->pdfplumber->-r requirements.txt (line 10))
  Using cached charset_normalizer-3.4.4-cp310-cp310-win_amd64.whl.metadata (38 kB)
Collecting cryptography>=36.0.0 (from pdfminer.six==20251107->pdfplumber->-r requirements.txt (line 10))
  Downloading cryptography-46.0.3-cp38-abi3-win_amd64.whl.metadata (5.7 kB)
Collecting iniconfig>=1.0.1 (from pytest->-r requirements.txt (line 15))
  Downloading iniconfig-2.3.0-py3-none-any.whl.metadata (2.5 kB)
Collecting pluggy<2,>=1.5 (from pytest->-r requirements.txt (line 15))
  Downloading pluggy-1.6.0-py3-none-any.whl.metadata (4.8 kB)
Collecting pygments>=2.7.2 (from pytest->-r requirements.txt (line 15))
  Using cached pygments-2.19.2-py3-none-any.whl.metadata (2.5 kB)
Collecting tomli>=1 (from pytest->-r requirements.txt (line 15))
  Downloading tomli-2.3.0-py3-none-any.whl.metadata (10 kB)
Collecting cffi>=2.0.0 (from cryptography>=36.0.0->pdfminer.six==20251107->pdfplumber->-r requirements.txt (line 10))
  Downloading cffi-2.0.0-cp310-cp310-win_amd64.whl.metadata (2.6 kB)
Collecting pycparser (from cffi>=2.0.0->cryptography>=36.0.0->pdfminer.six==20251107->pdfplumber->-r requirements.txt (line 10))
  Downloading pycparser-2.23-py3-none-any.whl.metadata (993 bytes)
Collecting h2<5,>=3 (from httpx[http2]>=0.20.0->qdrant-client->-r requirements.txt (line 3))
  Downloading h2-4.3.0-py3-none-any.whl.metadata (5.1 kB)
Collecting hyperframe<7,>=6.1 (from h2<5,>=3->httpx[http2]>=0.20.0->qdrant-client->-r requirements.txt (line 3))
  Downloading hyperframe-6.1.0-py3-none-any.whl.metadata (4.3 kB)
Collecting hpack<5,>=4.1 (from h2<5,>=3->httpx[http2]>=0.20.0->qdrant-client->-r requirements.txt (line 3))
  Downloading hpack-4.1.0-py3-none-any.whl.metadata (4.6 kB)
Collecting six>=1.5 (from python-dateutil>=2.8.2->pandas<3.0,>=1.0->gradio->-r requirements.txt (line 8))
  Using cached six-1.17.0-py2.py3-none-any.whl.metadata (1.7 kB)
Collecting markdown-it-py>=2.2.0 (from rich>=10.11.0->typer<1.0,>=0.12->gradio->-r requirements.txt (line 8))
  Using cached markdown_it_py-4.0.0-py3-none-any.whl.metadata (7.3 kB)
Collecting mdurl~=0.1 (from markdown-it-py>=2.2.0->rich>=10.11.0->typer<1.0,>=0.12->gradio->-r requirements.txt (line 8))
  Using cached mdurl-0.1.2-py3-none-any.whl.metadata (1.6 kB)
Collecting mpmath<1.4,>=1.1.0 (from sympy>=1.13.3->torch->-r requirements.txt (line 6))
  Using cached mpmath-1.3.0-py3-none-any.whl.metadata (8.6 kB)
Collecting joblib>=1.2.0 (from scikit-learn->sentence-transformers->-r requirements.txt (line 4))
  Using cached joblib-1.5.2-py3-none-any.whl.metadata (5.6 kB)
Collecting threadpoolctl>=3.1.0 (from scikit-learn->sentence-transformers->-r requirements.txt (line 4))
  Using cached threadpoolctl-3.6.0-py3-none-any.whl.metadata (13 kB)
Using cached fastapi-0.121.2-py3-none-any.whl (109 kB)
Using cached starlette-0.49.3-py3-none-any.whl (74 kB)
Using cached anyio-4.11.0-py3-none-any.whl (109 kB)
Using cached uvicorn-0.38.0-py3-none-any.whl (68 kB)
Downloading qdrant_client-1.16.0-py3-none-any.whl (328 kB)
Downloading portalocker-3.2.0-py3-none-any.whl (22 kB)
Using cached urllib3-2.5.0-py3-none-any.whl (129 kB)
Downloading sentence_transformers-5.1.2-py3-none-any.whl (488 kB)
Downloading transformers-4.57.1-py3-none-any.whl (12.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.0/12.0 MB 657.9 kB/s  0:00:18
Using cached huggingface_hub-0.36.0-py3-none-any.whl (566 kB)
Downloading tokenizers-0.22.1-cp39-abi3-win_amd64.whl (2.7 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.7/2.7 MB 3.3 MB/s  0:00:00
Downloading torch-2.9.1-cp310-cp310-win_amd64.whl (111.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 111.0/111.0 MB 5.4 MB/s  0:00:20
Downloading faiss_cpu-1.13.0-cp310-cp310-win_amd64.whl (18.7 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 18.7/18.7 MB 4.7 MB/s  0:00:04
Using cached numpy-2.2.6-cp310-cp310-win_amd64.whl (12.9 MB)
Using cached gradio-5.49.1-py3-none-any.whl (63.5 MB)
Using cached gradio_client-1.13.3-py3-none-any.whl (325 kB)
Using cached aiofiles-24.1.0-py3-none-any.whl (15 kB)
Using cached groovy-0.1.2-py3-none-any.whl (14 kB)
Using cached httpx-0.28.1-py3-none-any.whl (73 kB)
Using cached httpcore-1.0.9-py3-none-any.whl (78 kB)
Using cached jinja2-3.1.6-py3-none-any.whl (134 kB)
Using cached markupsafe-3.0.3-cp310-cp310-win_amd64.whl (15 kB)
Using cached orjson-3.11.4-cp310-cp310-win_amd64.whl (131 kB)
Using cached pandas-2.3.3-cp310-cp310-win_amd64.whl (11.3 MB)
Downloading pillow-11.3.0-cp310-cp310-win_amd64.whl (7.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.0/7.0 MB 6.2 MB/s  0:00:01
Using cached pydantic-2.11.10-py3-none-any.whl (444 kB)
Using cached pydantic_core-2.33.2-cp310-cp310-win_amd64.whl (2.0 MB)
Using cached pyyaml-6.0.3-cp310-cp310-win_amd64.whl (158 kB)
Using cached safehttpx-0.1.7-py3-none-any.whl (9.0 kB)
Using cached semantic_version-2.10.0-py2.py3-none-any.whl (15 kB)
Using cached tomlkit-0.13.3-py3-none-any.whl (38 kB)
Using cached typer-0.20.0-py3-none-any.whl (47 kB)
Using cached typing_extensions-4.15.0-py3-none-any.whl (44 kB)
Using cached websockets-15.0.1-cp310-cp310-win_amd64.whl (176 kB)
Downloading pymupdf-1.26.6-cp310-abi3-win_amd64.whl (18.4 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 18.4/18.4 MB 4.7 MB/s  0:00:03
Downloading pdfplumber-0.11.8-py3-none-any.whl (60 kB)
Downloading pdfminer_six-20251107-py3-none-any.whl (5.6 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.6/5.6 MB 5.7 MB/s  0:00:01
Downloading pytesseract-0.3.13-py3-none-any.whl (14 kB)
Using cached python_multipart-0.0.20-py3-none-any.whl (24 kB)
Using cached tqdm-4.67.1-py3-none-any.whl (78 kB)
Downloading Whoosh-2.7.4-py2.py3-none-any.whl (468 kB)
Downloading pytest-9.0.1-py3-none-any.whl (373 kB)
Downloading pluggy-1.6.0-py3-none-any.whl (20 kB)
Using cached annotated_doc-0.0.4-py3-none-any.whl (5.3 kB)
Using cached annotated_types-0.7.0-py3-none-any.whl (13 kB)
Using cached brotli-1.2.0-cp310-cp310-win_amd64.whl (369 kB)
Using cached charset_normalizer-3.4.4-cp310-cp310-win_amd64.whl (107 kB)
Downloading click-8.3.1-py3-none-any.whl (108 kB)
Using cached colorama-0.4.6-py2.py3-none-any.whl (25 kB)
Downloading cryptography-46.0.3-cp38-abi3-win_amd64.whl (3.5 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.5/3.5 MB 3.8 MB/s  0:00:00
Downloading cffi-2.0.0-cp310-cp310-win_amd64.whl (182 kB)
Using cached exceptiongroup-1.3.0-py3-none-any.whl (16 kB)
Using cached fsspec-2025.10.0-py3-none-any.whl (200 kB)
Downloading grpcio-1.76.0-cp310-cp310-win_amd64.whl (4.7 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.7/4.7 MB 7.7 MB/s  0:00:00
Using cached h11-0.16.0-py3-none-any.whl (37 kB)
Downloading httptools-0.7.1-cp310-cp310-win_amd64.whl (86 kB)
Downloading h2-4.3.0-py3-none-any.whl (61 kB)
Downloading hpack-4.1.0-py3-none-any.whl (34 kB)
Downloading hyperframe-6.1.0-py3-none-any.whl (13 kB)
Using cached idna-3.11-py3-none-any.whl (71 kB)
Downloading iniconfig-2.3.0-py3-none-any.whl (7.5 kB)
Using cached networkx-3.4.2-py3-none-any.whl (1.7 MB)
Using cached packaging-25.0-py3-none-any.whl (66 kB)
Downloading protobuf-6.33.1-cp310-abi3-win_amd64.whl (436 kB)
Using cached pygments-2.19.2-py3-none-any.whl (1.2 MB)
Downloading pypdfium2-5.0.0-py3-none-win_amd64.whl (3.1 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.1/3.1 MB 4.4 MB/s  0:00:00
Using cached python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
Using cached python_dotenv-1.2.1-py3-none-any.whl (21 kB)
Using cached pytz-2025.2-py2.py3-none-any.whl (509 kB)
Using cached pywin32-311-cp310-cp310-win_amd64.whl (9.6 MB)
Using cached regex-2025.11.3-cp310-cp310-win_amd64.whl (277 kB)
Downloading rich-14.2.0-py3-none-any.whl (243 kB)
Using cached markdown_it_py-4.0.0-py3-none-any.whl (87 kB)
Using cached mdurl-0.1.2-py3-none-any.whl (10.0 kB)
Downloading ruff-0.14.5-py3-none-win_amd64.whl (14.3 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 14.3/14.3 MB 5.3 MB/s  0:00:02
Using cached safetensors-0.6.2-cp38-abi3-win_amd64.whl (320 kB)
Using cached shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)
Using cached six-1.17.0-py2.py3-none-any.whl (11 kB)
Using cached sniffio-1.3.1-py3-none-any.whl (10 kB)
Using cached sympy-1.14.0-py3-none-any.whl (6.3 MB)
Using cached mpmath-1.3.0-py3-none-any.whl (536 kB)
Downloading tomli-2.3.0-py3-none-any.whl (14 kB)
Using cached typing_inspection-0.4.2-py3-none-any.whl (14 kB)
Using cached tzdata-2025.2-py2.py3-none-any.whl (347 kB)
Downloading watchfiles-1.1.1-cp310-cp310-win_amd64.whl (287 kB)
Using cached certifi-2025.11.12-py3-none-any.whl (159 kB)
Using cached ffmpy-1.0.0-py3-none-any.whl (5.6 kB)
Using cached filelock-3.20.0-py3-none-any.whl (16 kB)
Downloading pycparser-2.23-py3-none-any.whl (118 kB)
Using cached pydub-0.25.1-py2.py3-none-any.whl (32 kB)
Using cached requests-2.32.5-py3-none-any.whl (64 kB)
Using cached scikit_learn-1.7.2-cp310-cp310-win_amd64.whl (8.9 MB)
Using cached joblib-1.5.2-py3-none-any.whl (308 kB)
Using cached scipy-1.15.3-cp310-cp310-win_amd64.whl (41.3 MB)
Using cached threadpoolctl-3.6.0-py3-none-any.whl (18 kB)
Installing collected packages: whoosh, pywin32, pytz, pydub, mpmath, brotli, websockets, urllib3, tzdata, typing-extensions, tomlkit, tomli, threadpoolctl, sympy, sniffio, six, shellingham, semantic-version, safetensors, ruff, regex, pyyaml, python-multipart, python-dotenv, pypdfium2, pymupdf, pygments, pycparser, protobuf, portalocker, pluggy, Pillow, packaging, orjson, numpy, networkx, mdurl, markupsafe, joblib, iniconfig, idna, hyperframe, httptools, hpack, h11, groovy, fsspec, filelock, ffmpy, colorama, charset-normalizer, certifi, annotated-types, annotated-doc, aiofiles, typing-inspection, tqdm, scipy, requests, python-dateutil, pytesseract, pydantic-core, markdown-it-py, jinja2, httpcore, h2, grpcio, faiss-cpu, exceptiongroup, click, cffi, uvicorn, torch, scikit-learn, rich, pytest, pydantic, pandas, huggingface-hub, cryptography, anyio, watchfiles, typer, tokenizers, starlette, pdfminer.six, httpx, transformers, safehttpx, pdfplumber, gradio-client, fastapi, sentence-transformers, qdrant-client, gradio
Successfully installed Pillow-11.3.0 aiofiles-24.1.0 annotated-doc-0.0.4 annotated-types-0.7.0 anyio-4.11.0 brotli-1.2.0 certifi-2025.11.12 cffi-2.0.0 charset-normalizer-3.4.4 click-8.3.1 colorama-0.4.6 cryptography-46.0.3 exceptiongroup-1.3.0 faiss-cpu-1.13.0 fastapi-0.121.2 ffmpy-1.0.0 filelock-3.20.0 fsspec-2025.10.0 gradio-5.49.1 gradio-client-1.13.3 groovy-0.1.2 grpcio-1.76.0 h11-0.16.0 h2-4.3.0 hpack-4.1.0 httpcore-1.0.9 httptools-0.7.1 httpx-0.28.1 huggingface-hub-0.36.0 hyperframe-6.1.0 idna-3.11 iniconfig-2.3.0 jinja2-3.1.6 joblib-1.5.2 markdown-it-py-4.0.0 markupsafe-3.0.3 mdurl-0.1.2 mpmath-1.3.0 networkx-3.4.2 numpy-2.2.6 orjson-3.11.4 packaging-25.0 pandas-2.3.3 pdfminer.six-20251107 pdfplumber-0.11.8 pluggy-1.6.0 portalocker-3.2.0 protobuf-6.33.1 pycparser-2.23 pydantic-2.11.10 pydantic-core-2.33.2 pydub-0.25.1 pygments-2.19.2 pymupdf-1.26.6 pypdfium2-5.0.0 pytesseract-0.3.13 pytest-9.0.1 python-dateutil-2.9.0.post0 python-dotenv-1.2.1 python-multipart-0.0.20 pytz-2025.2 pywin32-311 pyyaml-6.0.3 qdrant-client-1.16.0 regex-2025.11.3 requests-2.32.5 rich-14.2.0 ruff-0.14.5 safehttpx-0.1.7 safetensors-0.6.2 scikit-learn-1.7.2 scipy-1.15.3 semantic-version-2.10.0 sentence-transformers-5.1.2 shellingham-1.5.4 six-1.17.0 sniffio-1.3.1 starlette-0.49.3 sympy-1.14.0 threadpoolctl-3.6.0 tokenizers-0.22.1 tomli-2.3.0 tomlkit-0.13.3 torch-2.9.1 tqdm-4.67.1 transformers-4.57.1 typer-0.20.0 typing-extensions-4.15.0 typing-inspection-0.4.2 tzdata-2025.2 urllib3-2.5.0 uvicorn-0.38.0 watchfiles-1.1.1 websockets-15.0.1 whoosh-2.7.4
(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> pip freeze > dependencies.txt

Pass test:
PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> chatbot_env\Scripts\activate
(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> docker start vigilant_tu
error during connect: Post "http://%2F%2F.%2Fpipe%2FdockerDesktopLinuxEngine/v1.51/containers/vigilant_tu/start": open //./pipe/dockerDesktopLinuxEngine: The system cannot find the file specified.
Error: failed to start containers: vigilant_tu
(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> docker start vigilant_tu
vigilant_tu
(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> pytest -q
........                                                                                                                                                          [100%]
8 passed in 203.86s (0:03:23)
(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> 

Fail test:
chatbot_env\lib\site-packages\transformers\modeling_utils.py:4925: OSError
=========================================================================== warnings summary ===========================================================================
src\vectorstore_qdrant.py:33
  C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\src\vectorstore_qdrant.py:33: DeprecationWarning: `recreate_collection` method is deprecated and will be removed in the future. Use `collection_exists` to check collection existence and `create_collection` instead.
    self.client.recreate_collection(collection_name=self.collection,

chatbot_env\lib\site-packages\huggingface_hub\file_download.py:143
  C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\huggingface_hub\file_download.py:143: UserWarning: `huggingface_hub` cache-system uses symlinks by default to efficiently store duplicated files but your machine does not support them in C:\Users\admin\.cache\huggingface\hub\models--cross-encoder--ms-marco-MiniLM-L-6-v2. Caching files will still work but in a degraded version that might require more space on your disk. This warning can be disabled by setting the `HF_HUB_DISABLE_SYMLINKS_WARNING` environment variable. For more details, see https://huggingface.co/docs/huggingface_hub/how-to-cache#lelopment
    warnings.warn(message)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================================================================= short test summary info ========================================================================
FAILED tests/test_ingest.py::test_chunk_text_basic - MemoryError
FAILED tests/test_retriever.py::test_rerank - OSError: The paging file is too small for this operation to complete. (os error 1455)
2 failed, 6 passed, 2 warnings in 235.80s (0:03:55)

(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> python -m src.app_gradio
INFO:sentence_transformers.SentenceTransformer:Use pytorch device_name: cpu
INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: all-MiniLM-L6-v2
INFO:httpx:HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET http://localhost:6333/collections/papers "HTTP/1.1 200 OK"
INFO:sentence_transformers.cross_encoder.CrossEncoder:Use pytorch device: cpu
Device set to use cpu
* Running on local URL:  http://0.0.0.0:7860
INFO:httpx:HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
* To create a public link, set `share=True` in `launch()`.

PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> chatbot_env\Scripts\activate
(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> docker start vigilant_tu
vigilant_tu
(chatbot_env) PS C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot> python -m src.app_gradio
INFO:sentence_transformers.SentenceTransformer:Use pytorch device_name: cpu
INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: all-MiniLM-L6-v2
INFO:httpx:HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET http://localhost:6333/collections/papers "HTTP/1.1 200 OK"
INFO:sentence_transformers.cross_encoder.CrossEncoder:Use pytorch device: cpu
Device set to use cpu
* Running on local URL:  http://0.0.0.0:7860
INFO:httpx:HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
* To create a public link, set `share=True` in `launch()`.
INFO:sentence_transformers.SentenceTransformer:Use pytorch device_name: cpu
INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: all-MiniLM-L6-v2
INFO:httpx:HTTP Request: GET http://localhost:6333 "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET http://localhost:6333/collections/papers "HTTP/1.1 200 OK"
Indexing PDFs:   0%|                                                                                    | 0/9 [00:00<?, ?it/s]WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P4' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P4' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P4' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P4' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P6' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P6' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P8' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P8' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P10' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P10' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P12' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P12' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P8' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P8' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P15' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P15' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P18' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P18' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P20' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P20' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P22' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P22' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P24' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P24' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P37' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P37' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P39' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P39' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P41' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P41' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P4' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P4' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P8' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P8' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P10' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P10' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P12' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P12' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P18' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P18' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P23' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P23' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P5' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P5' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P14' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P14' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P16' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P16' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P25' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P25' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray stroke color because /'P30' is an invalid float value
WARNING:pdfminer.pdfinterp:Cannot set gray non-stroke color because /'P30' is an invalid float value
INFO:httpx:HTTP Request: PUT http://localhost:6333/collections/papers/points?wait=true "HTTP/1.1 200 OK"
Indexing PDFs:  11%|████████▍                                                                   | 1/9 [00:20<02:43, 20.49s/it]INFO:httpx:HTTP Request: PUT http://localhost:6333/collections/papers/points?wait=true "HTTP/1.1 200 OK"
Indexing PDFs:  22%|████████████████▉                                                           | 2/9 [00:30<01:38, 14.05s/it]INFO:httpx:HTTP Request: PUT http://localhost:6333/collections/papers/points?wait=true "HTTP/1.1 200 OK"
Indexing PDFs:  33%|█████████████████████████▎                                                  | 3/9 [00:33<00:54,  9.12s/it]INFO:httpx:HTTP Request: PUT http://localhost:6333/collections/papers/points?wait=true "HTTP/1.1 200 OK"
Indexing PDFs:  44%|█████████████████████████████████▊                                          | 4/9 [00:36<00:33,  6.76s/it]INFO:httpx:HTTP Request: PUT http://localhost:6333/collections/papers/points?wait=true "HTTP/1.1 200 OK"
Indexing PDFs:  56%|██████████████████████████████████████████▏                                 | 5/9 [00:41<00:24,  6.00s/it]INFO:httpx:HTTP Request: PUT http://localhost:6333/collections/papers/points?wait=true "HTTP/1.1 200 OK"
Indexing PDFs:  67%|██████████████████████████████████████████████████▋                         | 6/9 [00:48<00:19,  6.60s/it]WARNING:pdfminer.pdffont:Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
INFO:httpx:HTTP Request: PUT http://localhost:6333/collections/papers/points?wait=true "HTTP/1.1 200 OK"
Indexing PDFs:  78%|███████████████████████████████████████████████████████████                 | 7/9 [00:55<00:13,  6.73s/it]INFO:httpx:HTTP Request: PUT http://localhost:6333/collections/papers/points?wait=true "HTTP/1.1 200 OK"
Indexing PDFs:  89%|███████████████████████████████████████████████████████████████████▌        | 8/9 [01:05<00:07,  7.68s/it]WARNING:pdfminer.pdffont:Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
INFO:httpx:HTTP Request: PUT http://localhost:6333/collections/papers/points?wait=true "HTTP/1.1 200 OK"
Indexing PDFs: 100%|████████████████████████████████████████████████████████████████████████████| 9/9 [01:18<00:00,  8.72s/it]
INFO:src.ingest:Indexing finished
Batches: 100%|██████████████████████████████████████████████████████████████████████████████████| 1/1 [00:00<00:00,  5.95it/s]
Traceback (most recent call last):
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\gradio\queueing.py", line 759, in process_events
    response = await route_utils.call_process_api(
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\gradio\route_utils.py", line 354, in call_process_api
    output = await app.get_blocks().process_api(
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\gradio\blocks.py", line 2116, in process_api
    result = await self.call_function(
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\gradio\blocks.py", line 1623, in call_function
    prediction = await anyio.to_thread.run_sync(  # type: ignore
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\anyio\_backends\_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\gradio\utils.py", line 915, in wrapper
    response = f(*args, **kwargs)
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\src\app_gradio.py", line 114, in answer_question
    retrieved = retriever.merge_and_rerank(query, top_k=5)
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\src\retriever_hybrid.py", line 71, in merge_and_rerank
    dense = self.dense_search(query, k=50)
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\src\retriever_hybrid.py", line 46, in dense_search
    hits = self.qdrant.search(qv, top_k=k)
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\src\vectorstore_qdrant.py", line 117, in search
    return self.client.query_points(
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\qdrant_client\qdrant_client.py", line 388, in query_points
    assert len(kwargs) == 0, f"Unknown arguments: {list(kwargs.keys())}"
AssertionError: Unknown arguments: ['query_vector']
Batches: 100%|██████████████████████████████████████████████████████████████████████████████████| 1/1 [00:00<00:00,  2.66it/s]
Traceback (most recent call last):
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\gradio\queueing.py", line 759, in process_events
    response = await route_utils.call_process_api(
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\gradio\route_utils.py", line 354, in call_process_api
    output = await app.get_blocks().process_api(
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\gradio\blocks.py", line 2116, in process_api
    result = await self.call_function(
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\gradio\blocks.py", line 1623, in call_function
    prediction = await anyio.to_thread.run_sync(  # type: ignore
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\anyio\to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\anyio\_backends\_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\anyio\_backends\_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\gradio\utils.py", line 915, in wrapper
    response = f(*args, **kwargs)
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\src\app_gradio.py", line 114, in answer_question
    retrieved = retriever.merge_and_rerank(query, top_k=5)
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\src\retriever_hybrid.py", line 71, in merge_and_rerank
    dense = self.dense_search(query, k=50)
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\src\retriever_hybrid.py", line 46, in dense_search
    hits = self.qdrant.search(qv, top_k=k)
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\src\vectorstore_qdrant.py", line 117, in search
    return self.client.query_points(
  File "C:\Users\admin\OneDrive - National Economics University\Desktop\Các Folder\Research_Chatbot\chatbot_env\lib\site-packages\qdrant_client\qdrant_client.py", line 388, in query_points
    assert len(kwargs) == 0, f"Unknown arguments: {list(kwargs.keys())}"
AssertionError: Unknown arguments: ['query_vector']